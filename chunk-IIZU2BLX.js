import{A as T,B as O,C as j,E as B,F as S,K as F,c as M,d as f,e as x,i as a,j as k,k as h,l as b,n as p,o as g,p as v,q as w,r as s,s as l,t as _,u as y,v as u,w as d,y as m,z as P}from"./chunk-TMVHNRXW.js";var E=i=>({"wrong-action":i});function I(i,n){if(i&1&&(s(0,"div",5)(1,"p",11),m(2),l()()),i&2){let o=d();a(2),T("",o.winner," wins!")}}function D(i,n){if(i&1){let o=y();s(0,"div",6)(1,"button",12),u("click",function(){f(o);let e=d();return x(e.newGame())}),m(2," New Game "),l()()}}function X(i,n){if(i&1&&(s(0,"span",7),m(1),l()),i&2){let o=d();a(),P(o.message)}}function $(i,n){i&1&&_(0,"div",13)}function V(i,n){i&1&&_(0,"div",15)}function A(i,n){if(i&1){let o=y();h(0,V,1,0,"div",15),s(1,"div",16),u("click",function(){let e=f(o).$index,t=d().$index,c=d();return x(c.makeMove(t,e))}),s(2,"span",17),m(3),l()()}if(i&2){let o=n.$implicit,r=n.$index,e=d().$index,t=d();p(0,r>0?0:-1),a(2),b("ngClass",t.board[e][r]===t.winner?"animate-bounce text-green-200":t.gameOver?"text-red-200":"text-gray-50"),a(),T(" ",o," ")}}function G(i,n){if(i&1&&(h(0,$,1,0,"div",13),s(1,"div",10),v(2,A,4,3,"div",14,g),l()),i&2){let o=n.$implicit,r=n.$index;p(0,r>0?0:-1),a(2),w(o)}}var R=(()=>{let n=class n{constructor(r){this._router=r,this.board=[],this.gameOver=!1,this.wrongAction=!1,this.message="",this.newGame()}newGame(){this.board=this._createBoard(),this.currentPlayer="X",this.winner="",this.gameOver=!1,this._updatePlayer()}_createBoard(){return[["","",""],["","",""],["","",""]]}makeMove(r,e){if(this.board&&this.board[r][e]===""){if(!this.gameOver&&!this.winner)if(this.board[r][e]=this.currentPlayer||"",this._checkWinner())this.winner=this.currentPlayer||"";else{if(this._isDraw()){this.gameOver=!0;return}this.currentPlayer=this.currentPlayer==="X"?"O":"X"}}else this.wrongAction=!0,setTimeout(()=>{this.wrongAction=!1},1500);this._updatePlayer()}_isDraw(){return this.board.every(r=>r.every(e=>e!==""))}_checkWinner(){return[[this.board[0][0],this.board[0][1],this.board[0][2]],[this.board[1][0],this.board[1][1],this.board[1][2]],[this.board[2][0],this.board[2][1],this.board[2][2]],[this.board[0][0],this.board[1][0],this.board[2][0]],[this.board[0][1],this.board[1][1],this.board[2][1]],[this.board[0][2],this.board[1][2],this.board[2][2]],[this.board[0][0],this.board[1][1],this.board[2][2]],[this.board[0][2],this.board[1][1],this.board[2][0]]].some(e=>e.every(t=>t===this.currentPlayer))}_computerMove(){let r=this._getUserMoves(),e=this._getPossibleMoves();if(this._checkWinner())this.winner=this.currentPlayer||"";else{if(this._isDraw()){this.gameOver=!0;return}this._makeSmartMove(e,r),this.currentPlayer=this.currentPlayer==="X"?"O":"X"}this._updatePlayer()}_makeSmartMove(r,e){let t=r.filter(c=>!e.some(C=>C.row===c.row&&C.col===c.col));if(t.length>0){let c=t[Math.floor(Math.random()*t.length)];this.board[c.row][c.col]="O"}}_getPossibleMoves(){let r=[];for(let e=0;e<this.board.length;e++)for(let t=0;t<this.board[e].length;t++)this.board[e][t]===""&&r.push({row:e,col:t});return console.log(r),r}_getUserMoves(){let r=[];for(let e=0;e<this.board.length;e++)for(let t=0;t<this.board[e].length;t++)this.board[e][t]==="X"&&r.push({row:e,col:t});return console.log(r),r}_updatePlayer(){this.currentPlayer==="X"?this.message="It's your turn":(this.message="It's computer turn",setTimeout(()=>{this._computerMove()},1e3))}goBack(){this._router.navigate(["/"])}};n.\u0275fac=function(e){return new(e||n)(k(F))},n.\u0275cmp=M({type:n,selectors:[["app-tic-tac-toe"]],standalone:!0,features:[O],decls:13,vars:6,consts:[[1,"bg-[#2E3650]","flex","flex-wrap","justify-center","text-center","h-[100dvh]","content-between","relative"],[1,"flex","w-full","items-center","justify-between","p-4","border-b-2","border-gray-400","border-opacity-20"],[1,"text-gray-100",3,"click"],[1,"icon","arrow-left","text-2xl"],[1,"text-3xl","text-gray-100","font-bold"],[1,"flex","flex-wrap","w-full","items-center","justify-center","absolute","top-32"],[1,"w-full","flex","items-center","justify-center","absolute","bottom-16","z-10"],[1,"w-full","text-center","absolute","top-32","text-gray-200","text-2xl","font-bold"],[1,"flex","flex-wrap","w-full","content-center","justify-center","h-[calc(100dvh-70px)]","relative"],[1,"inline-block",3,"ngClass"],[1,"flex"],[1,"text-green-200","text-2xl","font-bold"],[1,"border-2","border-gray-400","px-4","py-2","rounded-md","text-white","cursor-pointer",3,"click"],[1,"border-b-4","rounded-xl","opacity-40","shadow-sm","border-[#B1B9D8]"],[1,"w-16","h-16","flex","items-center","justify-center","cursor-pointer","text-2xl"],[1,"border-l-4","rounded-xl","opacity-30","border-[#B1B9D8]"],[1,"w-16","h-16","flex","items-center","justify-center","cursor-pointer","text-2xl",3,"click"],["id","player",1,"font-black","opacity-60","duration-300",3,"ngClass"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return t.goBack()}),_(3,"span",3),l(),s(4,"h1",4),m(5,"Tic-Tac-Toe"),l()(),h(6,I,3,1,"div",5)(7,D,3,0,"div",6)(8,X,2,1,"span",7),s(9,"div",8)(10,"div",9),v(11,G,4,1,"div",10,g),l()()()),e&2&&(a(6),p(6,t.winner?6:-1),a(),p(7,t.gameOver||t.winner?7:-1),a(),p(8,!t.winner&&!t.gameOver?8:-1),a(2),b("ngClass",j(4,E,t.wrongAction)),a(),w(t.board))},dependencies:[S,B],styles:[".wrong-action[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shakeBoard 1s forwards}.wrong-action[_ngcontent-%COMP%]   .border-l-4[_ngcontent-%COMP%], .wrong-action[_ngcontent-%COMP%]   .border-b-4[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity))}.wrong-action[_ngcontent-%COMP%]   #player[_ngcontent-%COMP%]{--tw-text-opacity: 1 !important;color:rgb(220 38 38 / var(--tw-text-opacity))!important}@keyframes _ngcontent-%COMP%_shakeBoard{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]});let i=n;return i})();export{R as TicTacToeComponent};
