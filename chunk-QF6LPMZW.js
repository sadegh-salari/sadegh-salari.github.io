import{A as O,B as P,D as M,E as B,J as F,c as C,d as f,e as b,i as a,j as k,k as m,l as h,n as d,o as u,p as g,q as w,r as s,s as c,t as x,u as v,v as _,w as l,y as p,z as y}from"./chunk-CECFWHD5.js";var j=e=>({"wrong-action":e});function E(e,n){e&1&&x(0,"div",10)}function S(e,n){e&1&&x(0,"div",12)}function $(e,n){if(e&1){let o=v();m(0,S,1,0,"div",12),s(1,"div",13),_("click",function(){let t=f(o).$index,i=l().$index,T=l();return b(T.makeMove(i,t))}),s(2,"span",14),p(3),c()()}if(e&2){let o=n.$implicit,r=n.$index,t=l().$index,i=l();d(0,r>0?0:-1),a(2),h("ngClass",i.board[t][r]===i.winner?"animate-bounce text-green-200":i.gameOver?"text-red-200":"text-gray-50"),a(),y(" ",o," ")}}function D(e,n){if(e&1&&(m(0,E,1,0,"div",10),s(1,"div",7),g(2,$,4,3,"div",11,u),c()),e&2){let o=n.$implicit,r=n.$index;d(0,r>0?0:-1),a(2),w(o)}}function V(e,n){if(e&1&&(s(0,"div",8)(1,"p",15),p(2),c()()),e&2){let o=l();a(2),y("",o.winner," wins!")}}function I(e,n){if(e&1){let o=v();s(0,"div",9)(1,"button",16),_("click",function(){f(o);let t=l();return b(t.newGame())}),p(2," New Game "),c()()}}var W=(()=>{let n=class n{constructor(r){this._router=r,this.board=[],this.gameOver=!1,this.wrongAction=!1,this.newGame()}newGame(){this.board=this._createBoard(),this.currentPlayer="X",this.winner=""}_createBoard(){return[["","",""],["","",""],["","",""]]}makeMove(r,t){if(this.board&&this.board[r][t]===""){if(!this.gameOver&&!this.winner)if(this.board[r][t]=this.currentPlayer||"",this.checkWinner())this.winner=this.currentPlayer||"";else{if(this._isDraw()){this.gameOver=!0;return}this.currentPlayer=this.currentPlayer==="X"?"O":"X"}}else this.wrongAction=!0,setTimeout(()=>{this.wrongAction=!1},1500)}_isDraw(){return this.board.every(r=>r.every(t=>t!==""))}checkWinner(){return[[this.board[0][0],this.board[0][1],this.board[0][2]],[this.board[1][0],this.board[1][1],this.board[1][2]],[this.board[2][0],this.board[2][1],this.board[2][2]],[this.board[0][0],this.board[1][0],this.board[2][0]],[this.board[0][1],this.board[1][1],this.board[2][1]],[this.board[0][2],this.board[1][2],this.board[2][2]],[this.board[0][0],this.board[1][1],this.board[2][2]],[this.board[0][2],this.board[1][1],this.board[2][0]]].some(t=>t.every(i=>i===this.currentPlayer))}goBack(){this._router.navigate(["/"])}};n.\u0275fac=function(t){return new(t||n)(k(F))},n.\u0275cmp=C({type:n,selectors:[["app-tic-tac-toe"]],standalone:!0,features:[O],decls:12,vars:5,consts:[[1,"bg-[#2E3650]","flex","flex-wrap","justify-center","text-center","h-[100dvh]","content-between"],[1,"flex","w-full","items-center","justify-between","p-4","border-b-2","border-gray-400","border-opacity-20"],[1,"text-gray-100",3,"click"],[1,"icon","arrow-left","text-2xl"],[1,"text-3xl","text-gray-100","font-bold"],[1,"flex","flex-wrap","w-full","content-center","justify-center","h-[calc(100dvh-70px)]","relative"],[1,"inline-block",3,"ngClass"],[1,"flex"],[1,"flex","flex-wrap","w-full","items-center","justify-center","absolute","top-16"],[1,"w-full","flex","items-center","justify-center","absolute","bottom-16"],[1,"border-b-4","rounded-xl","opacity-40","shadow-sm","border-[#B1B9D8]"],[1,"w-16","h-16","flex","items-center","justify-center","cursor-pointer","text-2xl"],[1,"border-l-4","rounded-xl","opacity-30","border-[#B1B9D8]"],[1,"w-16","h-16","flex","items-center","justify-center","cursor-pointer","text-2xl",3,"click"],["id","player",1,"font-black","opacity-60","duration-300",3,"ngClass"],[1,"text-green-200","text-2xl","font-bold"],[1,"border-2","border-gray-400","px-4","py-2","rounded-md","text-white",3,"click"]],template:function(t,i){t&1&&(s(0,"div",0)(1,"div",1)(2,"button",2),_("click",function(){return i.goBack()}),x(3,"span",3),c(),s(4,"h1",4),p(5,"Tic-Tac-Toe"),c()(),s(6,"div",5)(7,"div",6),g(8,D,4,1,"div",7,u),c(),m(10,V,3,1,"div",8)(11,I,3,0,"div",9),c()()),t&2&&(a(7),h("ngClass",P(3,j,i.wrongAction)),a(),w(i.board),a(2),d(10,i.winner?10:-1),a(),d(11,i.gameOver||i.winner?11:-1))},dependencies:[B,M],styles:[".wrong-action[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shakeBoard 1s forwards}.wrong-action[_ngcontent-%COMP%]   .border-l-4[_ngcontent-%COMP%], .wrong-action[_ngcontent-%COMP%]   .border-b-4[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(220 38 38 / var(--tw-border-opacity))}.wrong-action[_ngcontent-%COMP%]   #player[_ngcontent-%COMP%]{--tw-text-opacity: 1 !important;color:rgb(220 38 38 / var(--tw-text-opacity))!important}@keyframes _ngcontent-%COMP%_shakeBoard{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]});let e=n;return e})();export{W as TicTacToeComponent};
